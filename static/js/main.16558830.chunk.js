(this["webpackJsonppath-finding"]=this["webpackJsonppath-finding"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(7),a=n.n(c),i=(n(14),n(1)),u=n(4),s=function e(t,n,r,o,c){Object(u.a)(this,e),this.parent=void 0,this.cout=void 0,this.coord=void 0,this.heuristique=void 0,this.isWall=void 0,this.parent=c,this.cout=t,this.coord=n,this.heuristique=r,this.isWall=o},l=function e(t,n){Object(u.a)(this,e),this.x=void 0,this.y=void 0,this.x=t,this.y=n},f="start",h="finish",d="wall",b={graph:[[]],setGraph:function(e){},start:new l(-1,-1),setStart:function(e){},finish:new l(0,0),setFinish:function(e){},reset:function(){},block:"",setBlock:function(e){}},v=Object(r.createContext)(b),p=function(e){var t=e.children,n=function(){for(var e=window.innerWidth/30,t=window.innerHeight/40,n=[],r=0;r<t;r++){for(var o=[],c=0;c<e;c++){var a=new s(0,new l(r,c),0,!1);o.push(a)}n.push(o)}return n},c=Object(r.useState)(n),a=Object(i.a)(c,2),u=a[0],f=a[1],h=Object(r.useState)(new l(-1,-1)),d=Object(i.a)(h,2),b=d[0],p=d[1],j=Object(r.useState)(new l(-1,-1)),m=Object(i.a)(j,2),O=m[0],w=m[1],y=Object(r.useState)(""),x=Object(i.a)(y,2),g=x[0],k=x[1],E={graph:u,setGraph:function(e){return f(e)},start:b,setStart:function(e){return p(e)},finish:O,setFinish:function(e){return w(e)},reset:function(){return f(n),p(new l(-1,-1)),void w(new l(-1,-1))},block:g,setBlock:function(e){return k(e)}};return o.a.createElement("div",null,o.a.createElement(v.Provider,{value:E},t))},j=n(5),m=n.n(j),O=n(8),w=n(2),y=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(v),c=n.graph,a=n.start,u=n.setStart,s=n.finish,b=n.setFinish,p=n.block,j=Object(r.useState)(new l(e.x,e.y)),m=Object(i.a)(j,2),O=m[0],w=(m[1],Object(r.useState)(e.color)),y=Object(i.a)(w,2),x=y[0],g=y[1],k=Object(r.useState)(!1),E=Object(i.a)(k,2),S=(E[0],E[1]),C=Object(r.useState)(0),W=Object(i.a)(C,2),q=(W[0],W[1]),B=Object(r.useState)(0),M=Object(i.a)(B,2),F=(M[0],M[1],O.x),I=O.y;return Object(r.useImperativeHandle)(t,(function(){return{coord:O,colorBg:x,setColor:function(e){console.log(x),"blue"!==x&&"yellow"!==x&&g(e)},resetColor:function(){g("white")},setIsWall:function(e){S(e)},setCout:function(e){q(e)}}})),o.a.createElement("td",{onMouseOver:function(e){return function(e){e.preventDefault(),1===e.buttons&&p===d&&(S(!0),c[O.x][O.y].isWall=!0,g("black"))}(e)},onClick:function(e){return console.log("clic",O),void(p===f&&-1===a.x?(u(new l(F,I)),g("blue"),console.log("set start")):p===h&&-1===s.x&&(b(new l(F,I)),g("yellow"),console.log("set finish")))},style:{border:"1px solid #333",width:"30px",height:"30px",backgroundColor:x}},"")})),x=function(){var e=Object(r.useContext)(v),t=e.graph,n=e.start,c=e.finish,a=e.reset,u=(e.block,e.setBlock),s=Object(r.useState)(Object(r.useRef)([])),l=Object(i.a)(s,2),b=l[0],p=(l[1],Object(r.useState)(!0)),j=Object(i.a)(p,2),x=j[0],g=j[1];Object(r.useEffect)((function(){console.log("changed graph",t),console.log("reset");var e,n=Object(w.a)(b.current);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,c=Object(w.a)(o);try{for(c.s();!(r=c.n()).done;){var a=r.value;a&&(a.resetColor(),a.setCout(0),a.setIsWall(!1))}}catch(i){c.e(i)}finally{c.f()}}}catch(i){n.e(i)}finally{n.f()}}),[t]);var k=function(e,t){return e.heuristique<t.heuristique?-1:e.heuristique===t.heuristique?0:1},E=function(e){return new Promise((function(t){return setTimeout(t,e)}))},S=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n=Object(w.a)(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=11;break}return o=r.value,e.next=8,E(200);case 8:o.coord.x===c.x&&o.coord.y===c.y||b.current[o.coord.x][o.coord.y].setColor("green");case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:g(!0);case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){g(!1);var e=[],r=[];if(!(-1===n.x&&-1===n.y||-1===c.x&&-1===c.y)){var o=t[n.x][n.y],a=t[c.x][c.y];r.push(o);for(var i=function(){var n=r.shift();if(n.coord.x===a.coord.x&&n.coord.y===a.coord.y)return function(e){for(var t=e,n=[];t.parent;)n.push(t),t=t.parent;S(n.reverse())}(n),{v:void 0};(function(e,n){var r=[];return t[e-1]&&t[e-1][n]&&r.push(t[e-1][n]),t[e+1]&&t[e+1][n]&&r.push(t[e+1][n]),t[e]&&t[e][n-1]&&r.push(t[e][n-1]),t[e]&&t[e][n+1]&&r.push(t[e][n+1]),r})(n.coord.x,n.coord.y).forEach((function(t){e.includes(t)||function(e,t){if(t.includes(e)){var n,r=Object(w.a)(t);try{for(r.s();!(n=r.n()).done;){return n.value.cout<=e.cout}}catch(o){r.e(o)}finally{r.f()}}return!1}(t,r)||t.isWall||(t.cout=n.cout+1,t.heuristique=t.cout+function(e,t){var n=Math.abs(e.coord.x-t.coord.x),r=Math.abs(e.coord.x-t.coord.y);return Math.floor(n+r)}(t,a),t.parent=n,r.push(t),r.sort(k))})),e.push(n)};r.length>0;){var u=i();if("object"===typeof u)return u.v}return[]}},W=function(e){u(e)};return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{disabled:!x,onClick:function(){return W(f)}},"Start"),o.a.createElement("button",{disabled:!x,onClick:function(){return W(h)}},"Finish"),o.a.createElement("button",{disabled:!x,onClick:function(){return W(d)}},"Wall")),o.a.createElement("div",null,o.a.createElement("table",{className:"Graph",style:{borderSpacing:0}},o.a.createElement("tbody",null,t.map((function(e,t){var n=t,r=[],c=e.map((function(e,t){return o.a.createElement(y,{color:"white",ref:function(e){return r.push(e)},x:n,y:t,key:n+":"+t})}));return b.current.push(r),o.a.createElement("tr",{className:"row",key:t},c)}))))),o.a.createElement("button",{disabled:!x,onClick:function(){return C()}},"Resolve"),o.a.createElement("button",{disabled:!x,onClick:function(){return a()}},"Reset"))};n(16);var g=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,null),o.a.createElement(p,null,o.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.16558830.chunk.js.map